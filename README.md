## Β' Ομάδα Ασκήσεων

Εκφώνηση: http://cgi.di.uoa.gr/~izambo/OOPassgn2_2021.pdf


### Προσωπικά στοιχεία

__Όνομα__: Ιωάννης Δραβίλας

__Α.Μ.__: sdi1900053


### Documentation

__Άσκηση 1:__

Έχει υλοποιηθεί η άσκηση σύμφωνα με τον τρόπο που περιγράφεται στην εκφώνηση.
Πιο αναλυτικά, έχουν υλοποιηθεί οι απαραίτητες κλάσεις που περιγράφουν τα αντικείμενα της άσκησης, οι συναρτήσεις-μέλη κάθε κλάσης, καθώς και μια ενδεικτική συνάρτηση main().

Μια βασική κλάση Person προσομοιώνει τις βασικές λειτουργίες ενός οποιουδήποτε ανθρώπου του σχολείου, μαθητή ή δασκάλου.
Μια βασική κλάση Space προσομοιώνει τις βασικές λειτουργίες ενός οποιουδήποτε χώρου, συμπεριλαμβανομένου του σχολικού κτηρίου.

Παραγόμενες κλάσεις της Person είναι οι Student και Teacher, ενώ η Person δεν περιέχει εικονικές συναρτήσεις-μέλη, παρά μόνο εικονικό destructor, αφού δεν υπάρχει κάποια συνάρτησή της με κοινό όνομα που απαιτείται να οριστεί εκ νέου.

Παραγόμενες κλάσεις της Student είναι οι StudentJunior και StudentSenior.

Παραγόμενες κλάσεις της Space είναι οι School, Classroom, Floor, Corridor, Stairs και Yard. Η Space περιέχει εικονικό destructor και δύο αμιγώς εικονκές συναρτήσεις print() και enter(Student&), αφού η Space είναι μια αφηρημένη κλάση που δεν χρειάζεται αυτές τις συναρτήσεις. Η print() ορίζεται κατόπιν ξεχωριστά σε κάθε παραγόμενη κλάση, αφού για κάθε διαφορετική παραγόμενη κλάση πρέπει να εκτυπώνει διαφορετικό μήνυμα. Η enter(Student&) ορίζεται επίσης ξεχωριστά σε κάθε παραγόμενη κλάση, αφού για κάθε χώρο κατά τη λειτουργία της πρέπει να επιτελούνται διαφορετικές λειτουργίες. Η exit() και η place() δεν ορίζονται με παρόμοιο τρόπο ως εικονικές συναρτήσεις, αφού δεν είναι κοινές για όλες τις παραγόμενες κλάσεις.

Ο πίνακας με τους ορόφους του σχολείου και οι πίνακες με τις αίθουσες των ορόφων έχει επιλεγεί να υλοποιηθούν στατικά με ένα δείκτη προς τα αντικείμενα, μιας και το μέγεθός τους σύμφωνα με την εκφώνηση θα είναι πάντα σταθερό (και μικρό) για κάθε σχολείο.

Για την υλοποίηση του πίνακα με τους μαθητές κάθε αίθουσας έχει επιλεγεί η χρήση vector, αφενός για την αποφυγή αναφοράς σε αντικείμενα μέσω δείκτη σε δείκτη (πιο περίπλοκη υλοποίηση) και αφετέρου για την δυνατότητα χρήσης των έτοιμων συναρτήσεων της δομής, οι οποίες προσφέρουν μεγαλύτερη κομψότητα στον κώδικα σε σχέση με τις λειτουργίες σε πίνακα δεικτών σε δείκτες χωρίς τη χρήση βιβλιοθήκης. Κατ' αυτόν τον τρόπο, η χωρητικότητα των αιθουσών που δίνεται από τη γραμμή εντολών δεν χρησιμοποιείται πρακτικά κάπου εντός της προσομοίωσης, ωστόσο διατηρείται σαν στοιχείο για λόγους συμβατότητας με τις υπόλοιπες αντίστοιχες υλοποιήσεις. Δεν πραγματοποιείται έλεγχος του πλήθους των μαθητών σε μια αίθουσα πριν μπει ο επόμενος, μιας και κάτι τέτοιο δεν ζητείται ρητά από την εκφώνηση:
«΄Ενας μαθητής μπαίνει στην αίθουσα του τμήματός του (enter) εκτυπώνοντας το όνομά του και το μήνυμα "...enters classroom!" και προστίθεται στους μαθητές της αίθουσας αυτής (δεν γίνεται έλεγχος αν υπάρχει ήδη δάσκαλος στην αίθουσα αυτή). Πλέον η σχετική ένδειξη δηλώνει ότι βρίσκεται εντός του τμήματός του.»

Έχει υλοποιηθεί, επίσης, μια συνάρτηση main() σε ξεχωριστό αρχείο, η οποία δημιουργεί ένα σχολείο σύμφωνα με τις προδιαγραφές της εκφώνησης, δύο μαθητές για κάθε αίθουσα (τυχαία επιλογή για λόγους testing) και έναν δάσκαλο για κάθε αίθουσα. Οι μαθητές και οι δάσκαλοι εισάγονται στο σχολείο με τυχαία σειρά με τη χρήση rand(), γι' αυτό και κατά την εκτύπωση του σχολικού κτηρίου, ναι μεν οι ίδιοι μαθητές βρίσκονται πάντα στις ίδιες αίθουσες (αφού αυτό είναι σταθερό από την κατασκευή των αντικειμένων), αλλά η σειρά με την οποία τυπώνονται στην αίθουσα είναι κάθε φορά διαφορετική.

Υπάρχει, τέλος ένα αρχείο header.h που περιέχει τις δηλώσεις των κλάσεων και των συναρτήσεων-μελών τους.

Όλος ο κώδικας είναι αναλυτικά σχολιασμένος και χωρισμένος σε συναρτήσεις-μέλη και κλάσεις που καθιστούν την ανάγνωσή του ιδιαίτερα εύκολη.

Η προσομοίωση έχει, επίσης, ελεγχθεί με valgrind για memory leaks και όλα βαίνουν ομαλά. Στην έκδοση valgrind που χρησιμοποείται στα linux της σχολής υπάρχει bug που εμφανίζει 72704 bytes leaked μόνιμα σε κάθε πρόγραμμα.

Μεταγλωττίζουμε και συνδέουμε τα αρχεία με `g++ -o assgn2 assgn2.cpp main.cpp`.
Δημιουργείται το εκτελέσιμο αρχείο `assgn2`, το οποίο τρέχουμε με `./assgn2 Cclass Lj Ls Lt N`, όπου Cclass η μέγιστη χωρητικότητα κάθε αίθουσας, Lj, Ls και Lt οι μονάδες κατά τις οποίες αυξάνεται ο βαθμός κούρασης των μαθητών μικρών, των μεγάλων τάξεων και των δασκάλων αντίστοιχα και N οι ώρες για τις οποίες λειτουργεί το σχολείο. Π.χ. `./assgn2 10 1 2 3 10`.